Тут реализованы визиторы и ScopeLayer